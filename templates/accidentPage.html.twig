{% extends 'base.html.twig' %}
{% block body %}
    <div id="accident-page">
        <h2>Zdarzenie {{ accident.id }}</h2>
        <h3>Rodzaj zdarzenia</h3>
        <ul>
            <li>{{ ('accident.accidentType.' ~ accident.accidentType)|trans }}</li>
        </ul>

        <h3>Lokalizacja</h3>
        <ul>
            <li>{{ accident.voivodeship }}</li>
            <li>Powiat: {{ accident.county }}</li>
            <li>Gmina: {{ accident.commune }}</li>
            <li>Adres: {{ accident.locality }} {{ accident.street }} {{ accident.houseNumber }}
                {% if accident.intersectionStreet is not empty %}
                    / {{ accident.intersectionStreet }}
                {% endif %}
            </li>
        </ul>
        <h3>Czas</h3>
        <ul>
            <li>Data: {{ accident.time|date("Y-m-d") }}</li>
            <li>Godzina: {{ accident.time|date("H:i") }}</li>
            <li>Warunki oświetleniowe: {{ ('accident.light.' ~ accident.light)|trans }}</li>
            <li>Warunki pogodowe: {{ ('accident.weather.' ~ accident.weather)|trans }}</li>
        </ul>
        <h3>Miejsce zdarzenia</h3>
        <ul>
            <li>Charakterystyka miejsca
                zdarzenia: {{ ('accident.siteCharacteristic.' ~  accident.siteCharacteristic)|trans }}</li>
            <li>Typ drogi: {{ ('accident.roadType.' ~  accident.roadType)|trans }}</li>
            <li>Ograniczenie prędkości: {{ accident.speedLimit }} km/h</li>
            <li>Typ nawierzchni: {{ ('accident.pavement.' ~  accident.pavement)|trans }}</li>
            <li>Stan nawierzchni: {{ ('accident.surfaceCondition.' ~  accident.surfaceCondition)|trans }}</li>
            <li>Geometria drogi: {{ ('accident.roadGeometry.' ~  accident.roadGeometry)|trans }}</li>
            <li>Sygnalizacja świetlna: {{ ('accident.trafficLights.' ~  accident.trafficLights)|trans }}</li>
            <li>Oznakowanie poziome: {{ ('accident.surfaceMarking.' ~  accident.surfaceMarking)|trans }}</li>
            <li>Rodzaj skrzyżowania: {{ ('accident.intersectionType.' ~  accident.intersectionType)|trans }}</li>
            <li>Teren zabudowany: {{ ('accident.builtUpArea.' ~  accident.builtUpArea)|trans }}</li>
        </ul>
        <h3>Inne przyczyny zdarzenia</h3>
        <ul>
            <li>{{ ('accident.otherCause.' ~ accident.otherCause)|trans }}</li>
        </ul>
        <h3>Pojazdy i uczestnicy</h3>
        <ul>
            {% for vehicle in accident.vehicles %}
                <li>{{ ('vehicle.type.' ~ vehicle.type)|trans }}<br>
                    {{ vehicle.brand }}<br>
                    {{ vehicle.issues }}<br>
                    {{ ('vehicle.specialType.' ~ vehicle.specialType)|trans }}
                    <ul>
                        {% for passenger in vehicle.passengers %}
                            <li>{{ ('participant.role.' ~ passenger.role)|trans }}
                                <ul>
                                    <li>{{ passenger.dateOfBirth|date("Y-m-d") }}</li>
                                    <li>{{ ('participant.gender.' ~ passenger.gender)|trans }}</li>
                                    <li>{{ ('participant.drivingLicence.' ~ passenger.drivingLicence)|trans }}</li>
                                    <li>{{ ('participant.drivingYears.' ~ passenger.drivingYears)|trans }}</li>
                                    <li>{{ ('participant.fault.' ~ passenger.fault)|trans }}</li>
                                    <li>{{ ('participant.pedestrianFault.' ~ passenger.pedestrianFault)|trans }}</li>
                                    <li>{{ ('participant.penalty.' ~ passenger.penalty)|trans }}</li>
                                    <li>{{ ('participant.influence.' ~ passenger.influence)|trans }}</li>
                                    <li>{{ ('participant.injury.' ~ passenger.injury)|trans }}</li>
                                    <li>{{ ('participant.missingUse.' ~ passenger.missingUse)|trans }}</li>
                                </ul>
                            </li>
                        {% endfor %}
                    </ul>
                </li>
            {% else %}
                <li>Brak pojazdów.</li>
            {% endfor %}
        </ul>
        <ul>
            {% for pedestrian in accident.pedestrians %}
                <li>{{ ('participant.role.' ~ participant.role)|trans }}
                    <ul>
                        <li>{{ ('participant.pedestrian.' ~ pedestrian.dateOfBirth)|trans }}</li>
                        <li>{{ ('participant.gender.' ~ pedestrian.gender)|trans }}</li>
                        <li>{{ ('participant.drivingLicence.' ~ pedestrian.drivingLicence)|trans }}</li>
                        <li>{{ ('participant.drivingYears.' ~ pedestrian.drivingYears)|trans }}</li>
                        <li>{{ ('participant.fault.' ~ pedestrian.fault)|trans }}</li>
                        <li>{{ ('participant.pedestrianFault.' ~ pedestrian.pedestrianFault)|trans }}</li>
                        <li>{{ ('participant.penalty.' ~ pedestrian.penalty)|trans }}</li>
                        <li>{{ ('participant.influence.' ~ pedestrian.influence)|trans }}</li>
                        <li>{{ ('participant.injury.' ~ pedestrian.injury)|trans }}</li>
                        <li>{{ ('participant.missingUse.' ~ pedestrian.missingUse)|trans }}</li>
                    </ul>
                </li>
            {% endfor %}
        </ul>
    </div>
{% endblock %}